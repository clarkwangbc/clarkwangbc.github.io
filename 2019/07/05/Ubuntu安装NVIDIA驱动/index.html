<!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Ubuntu安装NVIDIA驱动 · Hexo</title><meta name="description" content="Ubuntu安装NVIDIA驱动 - John Doe"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://yoursite.com/atom.xml" title="Hexo"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/clarkwangbc" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">Ubuntu安装NVIDIA驱动</h1><div class="post-info">Jul 5, 2019</div><div class="post-content"><p>我最近在使用Ubuntu的时候，不知道为什么，系统隔三差五地掉显卡驱动，所以在这里把装驱动的流程记录下来，供以后使用。</p>
<a id="more"></a>

<h2 id="方法1：系统自动更新"><a href="#方法1：系统自动更新" class="headerlink" title="方法1：系统自动更新"></a>方法1：系统自动更新</h2><p>系统设置-&gt;软件更新-&gt;附加驱动-&gt;选择nvidia最新驱动-&gt;应用更改</p>
<h2 id="方法2：官网下载自行编译"><a href="#方法2：官网下载自行编译" class="headerlink" title="方法2：官网下载自行编译"></a>方法2：官网下载自行编译</h2><p>先在官网下载好对应的显卡驱动。</p>
<p>Nvidia中文官网是 <a href="http://www.nvidia.cn/page/home.html" target="_blank" rel="noopener">http://www.nvidia.cn/page/home.html</a></p>
<h3 id="1-打开终端，先删除旧的驱动"><a href="#1-打开终端，先删除旧的驱动" class="headerlink" title="1. 打开终端，先删除旧的驱动"></a>1. 打开终端，先删除旧的驱动</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get purge nvidia*</span><br></pre></td></tr></table></figure>

<h3 id="2-禁用自带的-nouveau-nvidia-驱动"><a href="#2-禁用自带的-nouveau-nvidia-驱动" class="headerlink" title="2. 禁用自带的 nouveau nvidia 驱动"></a>2. 禁用自带的 nouveau nvidia 驱动</h3><p>首先通过以下命令创建一个文件 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/modprobe.d/blacklist-nouveau.conf</span><br></pre></td></tr></table></figure>

<p>然后添加如下内容：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">blacklist nouveau</span><br><span class="line">options nouveau modeset=0</span><br></pre></td></tr></table></figure>

<p>再更新一下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo update-initramfs -u</span><br></pre></td></tr></table></figure>

<p>修改后需要重启系统。确认下Nouveau是否已经被你干掉，使用命令： </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lsmod | grep nouveau</span><br></pre></td></tr></table></figure>

<h3 id="3-重启系统至文本模式，关闭-X-Window"><a href="#3-重启系统至文本模式，关闭-X-Window" class="headerlink" title="3.重启系统至文本模式，关闭 X-Window"></a>3.重启系统至文本模式，关闭 X-Window</h3><p>也可先进入图形桌面再运行init 3进入文本模式，再安装下载的驱动就无问题。</p>
<p>首先我们需要结束x-window的服务，否则驱动将无法正常安装。</p>
<p>关闭X-Window，</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service lightdm stop</span><br></pre></td></tr></table></figure>

<p>然后切换tty1控制台：Ctrl+Alt+F1即可。</p>
<h3 id="4-安装驱动"><a href="#4-安装驱动" class="headerlink" title="4.安装驱动"></a>4.安装驱动</h3><p>接下来就是最关键的一步了：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo./NVIDIA.run</span><br></pre></td></tr></table></figure>

<p>开始安装，安装过程比较快。<br>根据提示选择即可最后安装完毕后，重新启动X-Window：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service lightdm start</span><br></pre></td></tr></table></figure>

<p>然后Ctrl+Alt+F7进入图形界面；</p>
<p>最后测试一下是否安装成功</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nvidia-smi</span><br><span class="line">nvidia-settings</span><br></pre></td></tr></table></figure>

<h2 id="方法3：添加官方ppa源"><a href="#方法3：添加官方ppa源" class="headerlink" title="方法3：添加官方ppa源"></a>方法3：添加官方ppa源</h2><p>快捷键ctrl+alt+T打开命令终端，加入官方ppa源。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo add-apt-repository ppa:graphics-drivers/ppa</span><br></pre></td></tr></table></figure>

<p>需要输入密码并按enter键确认。之后刷新软件库并安装最新驱动。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install nvidia-367nvidia-settings nvidia-prime</span><br></pre></td></tr></table></figure>

<p>安装完成后通过下面命令查看是否安装成功。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvidia-settings</span><br></pre></td></tr></table></figure>

<p>注意安装完成后要重启，有如下效果则安装完成，否则就说明安装有问题，尝试关闭UEFI保护试试。</p>
<blockquote>
<p><a href="https://blog.csdn.net/u014682691/article/details/80605201" target="_blank" rel="noopener">原文链接</a></p>
</blockquote>
</div></article></div></main><footer><div class="paginator"><a href="/2019/07/05/Ubuntu-搜狗拼音输入法候选乱码/" class="prev">PREV</a><a href="/2019/07/05/如何建立一个Markdown-Notebook/" class="next">NEXT</a></div><div class="copyright"><p>© 2019 <a href="http://yoursite.com">Clark Wang</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/clarkwangbc/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>